/* ===================================================================
   MAIN PRODUCT PAGE STYLES
   Migrated from inline styles in main-product.liquid
   Date: 2025-01-09
   =================================================================== */

/* ===================================================================
   1. PRODUCT SECTION BASE
   =================================================================== */

.product-section-container {
  background-color: var(--background);
  color: var(--text);
}

/* ===================================================================
   2. GALLERY STYLES
   =================================================================== */

.gallery-wrapper-sticky {
  max-height: calc(100vh - 70px);
  overflow-y: auto;
  position: sticky;
  top: 70px;
}

.image-strip-container-fixed {
  position: fixed;
  top: 50%;
  left: var(--space-lg);
  transform: translateY(-50%);
  z-index: 1002;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

/* ===================================================================
   3. PRODUCT INFO SECTION
   =================================================================== */

.product-info-sticky {
  height: calc(100vh - 70px);
  overflow-y: auto;
  position: sticky;
  top: 70px;
}

/* Global Sold Out Badge Styles */
.sold-out-badge-filled {
  background-color: var(--sold-out-filled-bg, #000000);
  color: var(--sold-out-filled-text, #FFFFFF);
  border-radius: var(--sold-out-badge-radius, 5px);
  padding: 0 6px;
  border: none;
}

.sold-out-badge-transparent {
  background-color: transparent;
  color: var(--sold-out-transparent-text, #000000);
  border: var(--sold-out-badge-border-thickness, 1px) solid var(--sold-out-transparent-border, #000000);
  border-radius: var(--sold-out-badge-radius, 5px);
  padding: 0 6px;
}

/* Legacy support - product-badge class (will use global settings) */
.product-badge {
  background-color: var(--sold-out-filled-bg, var(--text));
  color: var(--sold-out-filled-text, var(--background));
  border-radius: var(--sold-out-badge-radius, 5px);
}

/* ===================================================================
   4. TYPOGRAPHY STYLES
   =================================================================== */

.product-title-text {
  font-weight: var(--t-h-4-weight);
  font-size: var(--t-h-4-size);
  line-height: var(--t-h-4-line-height);
  padding-bottom: var(--space-lg);
}

.product-body-text {
  font-weight: var(--t-b-4-weight);
  font-size: var(--t-b-4-size);
  line-height: var(--t-b-4-line-height);
}

.product-text-medium {
  font-weight: var(--t-b-3-weight);
  font-size: var(--t-b-3-size);
  line-height: var(--t-b-3-line-height);
}

.product-text-small {
  font-weight: var(--t-b-2-weight);
  font-size: var(--t-b-2-size);
  line-height: var(--t-b-2-line-height);
}

.product-text-large {
  font-weight: var(--t-b-1-weight);
  font-size: var(--t-b-1-size);
  line-height: var(--t-b-1-line-height);
}

/* Mobile Typography */
.product-mobile-heading {
  font-size: var(--tm-h-3-size);
  line-height: var(--tm-h-3-line-height);
  padding: var(--space-lg) 0;
}

.product-mobile-text-small {
  font-size: var(--tm-b-3-size);
  line-height: var(--tm-b-3-line-height);
}

.product-mobile-text-medium {
  font-size: var(--tm-b-4-size);
  line-height: var(--tm-b-4-line-height);
}

.product-mobile-text-tiny {
  font-size: var(--tm-b-5-size);
  font-weight: var(--tm-b-5-weight);
}

/* ===================================================================
   5. COLOR SWATCH STYLES
   =================================================================== */

.color-swatch {
  width: 20px;
  height: 20px;
  border: 1px solid var(--disabled_text);
}

/* Individual color classes for swatches - populated dynamically */
/* These will be generated for specific product colors */

/* ===================================================================
   6. TAB STYLES
   =================================================================== */

/* Desktop Tab Styles */
.tab-btn {
  background: transparent;
  padding: var(--space-xs) var(--space-lg) 0 0;
  margin-right: var(--space-3xl);
  position: relative;
  transition: all 0.3s ease;
}


.tab-button-active {
  color: var(--hovered_button_label);
  font-weight: var(--t-b-3-weight);
  font-size: var(--t-b-3-size);
  line-height: var(--t-b-3-line-height);
}

.tab-button-inactive {
  color: var(--secondary_text);
  font-weight: var(--t-b-3-weight);
  font-size: var(--t-b-3-size);
  line-height: var(--t-b-3-line-height);
}

.tab-indicator {
  height: 2px;
}

.tab-indicator-active {
  background-color: var(--hovered_button_label);
}

.tab-indicator-inactive {
  background-color: var(--secondary_text);
}


/* Mobile Tab Styles */
.mobile-tab-btn {
  background: transparent;
  padding: var(--space-xs) var(--space-lg) 0 0;
  margin-right: var(--space-sm);
  position: relative;
  transition: all 0.3s ease;
}

.mobile-tab-button-active {
  color: var(--text);
  font-size: var(--tm-b-4-size);
  line-height: var(--tm-b-4-line-height);
  padding: var(--space-xs) 0 0 0;
}

.mobile-tab-button-inactive {
  color: var(--secondary_text);
  font-size: var(--tm-b-4-size);
  line-height: var(--tm-b-4-line-height);
  padding: var(--space-xs) 0 0 0;
}

.mobile-tab-indicator {
  height: 1px;
}

/* Mobile tab top bar - thinner than desktop */
.mobile-tab-btn .tab-top-bar {
  height: 1px !important;
}

/* Ensure mobile tab indicators are thin */
@media (max-width: 768px) {
  .mobile-tab-btn .tab-top-bar {
    height: 1px !important;
    min-height: 1px !important;
  }
  
  .mobile-tab-indicator {
    height: 1px !important;
    min-height: 1px !important;
  }
}


/* Tab Container */
.tab-buttons-container {
  display: flex;
  margin-bottom: 0;
}



/* ===================================================================
   7. SIZING GUIDE STYLES
   =================================================================== */

.sizing-icon-container {
  width: 20px;
  height: 20px;
}

.sizing-icon-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.sizing-icon-svg {
  width: 100%;
  height: 100%;
}

.sizing-text {
  color: var(--text);
  font-size: var(--t-b-3-size);
  font-weight: var(--t-b-3-weight);
  text-align: center;
}

.sizing-text-mobile {
  color: var(--text);
  font-size: var(--tm-b-5-size);
  font-weight: var(--tm-b-5-weight);
  text-align: center;
}

/* ===================================================================
   8. DRAWER/MODAL STYLES
   =================================================================== */

.sizing-drawer {
  width: 50vw;
  right: 0;
  z-index: 1001;
  transform: translateX(100%);
  background-color: var(--background);
}

.sizing-drawer-header {
  padding: var(--space-3xl) var(--space-3xl) 0 var(--space-3xl);
}

.sizing-drawer-subtitle {
  color: var(--secondary_text);
}

.sizing-drawer-content {
  padding: 0 var(--space-4xl);
}

.sizing-drawer-no-content {
  color: var(--secondary_text);
  padding: var(--space-4xl);
}

.sizing-drawer-overlay {
  background-color: rgba(0, 0, 0, 0.1);
}

/* Mobile drawer */
.mobile-sizing-drawer {
  right: 0;
  z-index: 1000;
  transform: translateX(100%);
  background-color: var(--background);
}

.mobile-sizing-drawer-header {
  padding: var(--space-3xl);
}

.mobile-sizing-drawer-subtitle {
  color: var(--secondary_text);
  margin: var(--space-lg);
}

.mobile-sizing-drawer-content {
  padding: 0 var(--space-3xl) var(--space-3xl) var(--space-3xl);
}

.mobile-sizing-drawer-no-content {
  color: var(--secondary_text);
}

.mobile-sizing-drawer-overlay {
  background-color: rgba(0, 0, 0, 0.6);
}

/* ===================================================================
   9. DETAILS/ACCORDION STYLES
   =================================================================== */

.details-border-bottom {
  border-bottom: 1px solid var(--border);
}

.details-border-top {
  border-top: 1px solid var(--border);
}

.details-border-both {
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  padding: var(--space-2xl) 0;
}

.details-summary-border {
  border: 1px solid var(--border);
}

.details-content-secondary {
  color: var(--secondary_text);
}

/* ===================================================================
   10. PRICE AND STOCK STYLES
   =================================================================== */

.price-container-border {
  border-top: 1px solid var(--border);
  padding-top: var(--space-lg);
}

.stock-container {
  border-top: 1px solid var(--border);
  padding: var(--space-lg) 0;
}

.price-gap {
  gap: var(--space-sm);
}

.sale-price-color {
  color: var(--sale_badge);
}

/* ===================================================================
   11. BUTTON STYLES
   =================================================================== */

.sold-out-button {
  padding: var(--space-lg);
  background-color: var(--disabled_text);
  color: var(--background);
}

.full-width-button {
  width: 100%;
}

/* ===================================================================
   12. MOBILE GALLERY STYLES
   =================================================================== */

.mobile-gallery-item {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0 !important;
  display: none !important;
  transition: opacity 0.3s ease;
}

.mobile-gallery-item.active {
  opacity: 1 !important;
  display: block !important;
  position: relative !important;
  z-index: 1;
}

.mobile-gallery-item-hidden {
  opacity: 0;
  display: none;
  transition: opacity 0.3s ease;
}

/* ===================================================================
   13. SECONDARY TEXT STYLES
   =================================================================== */

.secondary-text-color {
  color: var(--secondary_text);
}

/* ===================================================================
   14. HEADER TEXT STYLES
   =================================================================== */

.header-text-color {
  color: var(--header_text);
}

/* ===================================================================
   15. UTILITY CLASSES
   =================================================================== */

.border-standard {
  border: 1px solid var(--border);
}

.border-top-standard {
  border-top: 1px solid var(--border);
}

.border-bottom-standard {
  border-bottom: 1px solid var(--border);
}

.margin-bottom-xl {
  margin-bottom: var(--space-xl);
}

.border-top-padding {
  border-top: 1px solid var(--border);
  padding: var(--space-2xl) 0;
}

.mobile-price-border {
  border-top: 1px solid var(--border);
  padding: var(--space-lg) 0;
}

.mobile-price-text {
  color: var(--sale_badge);
  font-size: var(--tm-b-1-size);
  line-height: var(--tm-b-1-line-height);
  padding-bottom: var(--space-lg);
}

.mobile-sold-out-button {
  font-size: var(--tm-b-2-size);
  line-height: var(--tm-b-2-line-height);
  padding: var(--space-lg);
  background-color: var(--disabled_text);
  color: var(--background);
}

.mobile-full-width {
  width: 100%;
}

/* ===================================================================
   8. GALLERY STYLES
   =================================================================== */

.gallery-item {
  display: block !important;
}

.gallery-item.is-active {
  opacity: 1;
  outline: 2px solid black;
}

.gallery-item:not(.is-active) {
  opacity: 1;
}

.gallery-wrapper {
  overflow-y: auto;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  width: 100%;
  max-width: 100%;
}

.gallery-track {
  height: 100%;
  width: 100%;
  max-width: 100%;
  pointer-events: auto;
}

.gallery-item {
  opacity: 0;
  transition: opacity 0.3s ease-out;
  will-change: opacity;
  pointer-events: none;
}

.gallery-item.is-active {
  opacity: 1;
  pointer-events: auto;
  z-index: 1;
}

.image-strip-container {
  position: fixed;
  top: 50%;
  left: 10px;
  transform: translateY(-50%);
  z-index: 1002;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.gallery-track:hover .image-strip-container-fixed {
  opacity: 1;
  pointer-events: auto;
}

.image-strip {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
  padding: var(--space-lg);
  border-radius: 8px;
}

.strip-image-wrapper {
  width: 60px;
  height: 60px;
  cursor: pointer;
  opacity: 0.7;
  transition: all 0.3s ease;
}

.strip-image-wrapper:hover,
.strip-image-wrapper.active {
  opacity: 1;
  transform: scale(1.1);
  border: 1px solid var(--border);
}

.strip-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 4px;
}

/* ===================================================================
   9. DELIVERY AND BUTTON STYLES
   =================================================================== */

.delivery-change-btn {
  background-color: var(--button);
  color: var(--button_label);
}

.delivery-change-btn:hover {
  background-color: var(--hovered_button_label);
  color: var(--hovered_button_text_color);
}

/* ===================================================================
   10. SECTION PADDING
   =================================================================== */

/* Dynamic section padding - will be applied to sections with class section-{id}-padding */
.section-padding {
  padding-top: var(--spacing-sections-mobile);
  padding-bottom: var(--spacing-sections-mobile);
  padding-left: var(--gutter-sm);
  padding-right: var(--gutter-sm);
}

@media screen and (min-width: 750px) {
  .section-padding {
    padding-top: var(--spacing-sections-desktop);
    padding-bottom: var(--spacing-sections-desktop);
    padding-left: var(--gutter-sm);
    padding-right: var(--gutter-sm);
  }
}

/* ===================================================================
   11. DRAWER STYLES
   =================================================================== */

#size-chart-drawer {
  transition: transform 0.6s cubic-bezier(0.4,0,0.2,1);
  will-change: transform;
  margin: 0 !important;
  padding: 0 !important;
}

#size-chart-drawer.open {
  transform: translateX(0) !important;
}

.sizing-drawer {
  transition: transform 0.6s cubic-bezier(0.4,0,0.2,1);
  will-change: transform;
}

.sizing-drawer.open {
  transform: translateX(0) !important;
}

/* ===================================================================
   12. PRODUCT SECTION LAYOUT
   =================================================================== */

.product-section {
  display: flex;
  position: relative;
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
}

.tab-content {
  height: calc(100% - 50px);
}

/* ===================================================================
   13. PRICE STYLES
   =================================================================== */

.main-product-price .price__regular,
.main-product-price .price__sale,
.mobile-main-product-price .price__regular,
.mobile-main-product-price .price__sale {
  display: flex;
  align-items: center;
  gap: 8px;
}

.main-product-price .price-item,
price-item {
  font-size: var(--t-h-5-size) !important;
}

.main-product-price .price__sale .price-item--regular,
.mobile-main-product-price .price__sale .price-item--regular {
  text-decoration: line-through;
  color: var(--secondary_text);
}

.main-product-price.price--on-sale .price__regular,
.mobile-main-product-price.price--on-sale .price__regular {
  display: none !important;
}

.main-product-price.price--on-sale .price__sale,
.mobile-main-product-price.price--on-sale .price__sale {
  display: flex !important;
}

.main-product-price:not(.price--on-sale) .price__sale,
.mobile-main-product-price:not(.price--on-sale) .price__sale {
  display: none !important;
}

.main-product-price:not(.price--on-sale) .price__regular,
.mobile-main-product-price:not(.price--on-sale) .price__regular {
  display: flex !important;
}

/* ===================================================================
   14. SIZING BUTTON ANIMATIONS
   =================================================================== */

.sizing-item-btn span,
.sizing-item-btn-mobile span {
  position: relative !important;
  display: inline-block !important;
}

.sizing-item-btn span::before,
.sizing-item-btn-mobile span::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: var(--space-tiny);
  background-color: var(--text) !important;
  transform-origin: left;
  transition: transform var(--animation-duration, 600ms) ease-in-out;
}

.sizing-item-btn:hover span::before,
.sizing-item-btn-mobile:hover span::before {
  transform-origin: right;
  transform: scaleX(0);
}

/* ===================================================================
   15. MOBILE RESPONSIVE STYLES
   =================================================================== */

@media (max-width: 1024px) {
  .mobile-gallery-item {
    will-change: opacity, transform;
    transition: opacity 0.3s ease;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    max-height: 65vh !important;
    object-fit: cover !important;
    opacity: 0 !important;
    display: none !important;
  }

  .mobile-gallery-item.active {
    opacity: 1 !important;
    display: block !important;
    position: relative !important;
    z-index: 1;
  }

  .thumbnail-item {
    transition: all 0.3s ease;
    opacity: 0.6;
    border: 2px solid transparent;
  }

  .thumbnail-item.active {
    opacity: 1;
    border-color: var(--border);
    transform: scale(1.05);
  }

  .product-tabs {
    height: auto;
    min-height: 200px;
  }

  .tab-content {
    height: auto;
  }

  #mobile-size-chart-drawer {
    transition: transform 0.6s cubic-bezier(0.4,0,0.2,1);
    will-change: transform;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  #mobile-size-chart-drawer.open {
    transform: translateX(0) !important;
  }

  .mobile-sizing-drawer {
    transition: transform 0.6s cubic-bezier(0.4,0,0.2,1);
    will-change: transform;
  }
  
  .mobile-sizing-drawer.open {
    transform: translateX(0) !important;
  }
}

/* ===================================================================
   16. PICKUP AVAILABILITY DRAWER FIXES
   =================================================================== */

/* Ensure pickup availability drawer has proper z-index */
pickup-availability-drawer {
  z-index: 1003 !important;
}

/* Fix any missing CSS variables for pickup availability */
pickup-availability-drawer {
  --duration-default: 0.3s;
  --drawer-border-width: 1px;
  --drawer-border-opacity: 0.1;
  --drawer-shadow-horizontal-offset: 0;
  --drawer-shadow-vertical-offset: 4px;
  --drawer-shadow-blur-radius: 12px;
  --drawer-shadow-opacity: 0.1;
  --color-background: var(--background);
  --color-foreground: var(--text);
  --color-shadow: var(--text);
  --font-body-scale: 1;
}

/* Ensure pickup availability button is clickable */
.pickup-availability-button {
  cursor: pointer;
  pointer-events: auto;
}

/* Mobile-specific pickup availability fixes */
@media (max-width: 749px) {
  pickup-availability-drawer {
    width: 100% !important;
    transform: translateX(100%) !important;
    z-index: 1003 !important;
  }
  
  pickup-availability-drawer[open] {
    transform: translateX(0) !important;
    opacity: 1 !important;
  }
  
  .pickup-availability-button {
    font-size: var(--t-b-4-size) !important;
    padding: 8px 0 !important;
    width: 100% !important;
    text-align: left !important;
  }
  
  .mobile-full-width .pickup-availability-button {
    display: block !important;
    width: 100% !important;
  }
}

/* ===================================================================
   END OF MAIN PRODUCT STYLES
   =================================================================== */
