/* ===================================================================
   SCROLL-TRIGGERED FADE-IN ANIMATIONS
   Centralized CSS for various fade-in animation types on scroll
   ================================================================== */

/* Global Animation Control - Disable all scroll animations when setting is off */
body[data-scroll-animations="false"] .scroll-fade-trigger,
body[data-scroll-animations="false"] .scroll-slide-trigger,
body[data-scroll-animations="false"] .product-card-item {
    opacity: 1 !important;
    transform: none !important;
    transition: none !important;
    animation: none !important;
}

/* Animation Variables */
:root {
    --scroll-animation-duration: 0.8s;
    --scroll-animation-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --scroll-animation-distance: 60px;
    --scroll-animation-stagger-delay: 0.1s;
    --scroll-animation-scale-start: 0.8;
}

/* Base Animation Classes */
.scroll-fade-trigger {
    opacity: 0 !important;
    transition: all var(--scroll-animation-duration) var(--scroll-animation-easing);
    will-change: opacity, transform;
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

.scroll-fade-trigger.animate {
    opacity: 1 !important;
    will-change: auto;
}

/* ===================================================================
   FADE IN ANIMATIONS
   ================================================================== */

/* Fade In From Bottom (Slide Up) */
.scroll-fade-up {
    transform: translateY(var(--scroll-animation-distance)) !important;
}

.scroll-fade-up.animate {
    transform: translateY(0) !important;
}

/* Fade In From Top (Slide Down) */
.scroll-fade-down {
    transform: translateY(calc(-1 * var(--scroll-animation-distance)));
}

.scroll-fade-down.animate {
    transform: translateY(0);
}

/* Fade In From Left */
.scroll-fade-left {
    transform: translateX(calc(-1 * var(--scroll-animation-distance)));
}

.scroll-fade-left.animate {
    transform: translateX(0);
}

/* Fade In From Right */
.scroll-fade-right {
    transform: translateX(var(--scroll-animation-distance));
}

.scroll-fade-right.animate {
    transform: translateX(0);
}

/* Scale Fade In */
.scroll-fade-scale {
    transform: scale(var(--scroll-animation-scale-start));
}

.scroll-fade-scale.animate {
    transform: scale(1);
}

/* Fade In with Rotation */
.scroll-fade-rotate {
    transform: rotate(10deg) scale(var(--scroll-animation-scale-start));
}

.scroll-fade-rotate.animate {
    transform: rotate(0deg) scale(1);
}

/* ===================================================================
   COMBINATION ANIMATIONS
   ================================================================== */

/* Fade In Up + Scale */
.scroll-fade-up-scale {
    transform: translateY(var(--scroll-animation-distance)) scale(var(--scroll-animation-scale-start));
}

.scroll-fade-up-scale.animate {
    transform: translateY(0) scale(1);
}

/* Fade In Left + Scale */
.scroll-fade-left-scale {
    transform: translateX(calc(-1 * var(--scroll-animation-distance))) scale(var(--scroll-animation-scale-start));
}

.scroll-fade-left-scale.animate {
    transform: translateX(0) scale(1);
}

/* Fade In Right + Scale */
.scroll-fade-right-scale {
    transform: translateX(var(--scroll-animation-distance)) scale(var(--scroll-animation-scale-start));
}

.scroll-fade-right-scale.animate {
    transform: translateX(0) scale(1);
}

/* ===================================================================
   STAGGER ANIMATIONS FOR GRID ITEMS
   ================================================================== */

/* Enhanced stagger pattern for product grids */
.scroll-fade-stagger .scroll-fade-trigger:nth-child(1) {
    transition-delay: calc(0 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(2) {
    transition-delay: calc(1 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(3) {
    transition-delay: calc(2 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(4) {
    transition-delay: calc(3 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(5) {
    transition-delay: calc(4 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(6) {
    transition-delay: calc(5 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(7) {
    transition-delay: calc(6 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(8) {
    transition-delay: calc(7 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(9) {
    transition-delay: calc(8 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(10) {
    transition-delay: calc(9 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(11) {
    transition-delay: calc(10 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(12) {
    transition-delay: calc(11 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(13) {
    transition-delay: calc(12 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(14) {
    transition-delay: calc(13 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(15) {
    transition-delay: calc(14 * var(--scroll-animation-stagger-delay));
}

.scroll-fade-stagger .scroll-fade-trigger:nth-child(16) {
    transition-delay: calc(15 * var(--scroll-animation-stagger-delay));
}

/* Extended stagger for larger grids */
.scroll-fade-stagger .scroll-fade-trigger:nth-child(n + 17) {
    transition-delay: calc(16 * var(--scroll-animation-stagger-delay));
}

/* ===================================================================
   PRODUCT GRID SPECIFIC ANIMATIONS
   ================================================================== */

/* Enhanced Product Card Animation Container */
.product-grid-animated {
    --product-animation-distance: 50px;
    --product-stagger-delay: 0.08s;
}

/* Base product card animation state - Override conflicting styles */
.product-grid-animated .product-card-item.scroll-fade-trigger {
    opacity: 0 !important;
    transform: translateY(var(--product-animation-distance)) !important;
    transition: all var(--scroll-animation-duration) var(--scroll-animation-easing);
    will-change: opacity, transform;
}

.product-grid-animated .product-card-item.scroll-fade-trigger.animate {
    opacity: 1 !important;
    transform: translateY(0) !important;
}

/* Enhanced stagger delays for product cards */
.product-grid-animated .product-card-item:nth-child(1) {
    transition-delay: 0ms;
}
.product-grid-animated .product-card-item:nth-child(2) {
    transition-delay: 80ms;
}
.product-grid-animated .product-card-item:nth-child(3) {
    transition-delay: 160ms;
}
.product-grid-animated .product-card-item:nth-child(4) {
    transition-delay: 240ms;
}
.product-grid-animated .product-card-item:nth-child(5) {
    transition-delay: 320ms;
}
.product-grid-animated .product-card-item:nth-child(6) {
    transition-delay: 400ms;
}
.product-grid-animated .product-card-item:nth-child(7) {
    transition-delay: 480ms;
}
.product-grid-animated .product-card-item:nth-child(8) {
    transition-delay: 560ms;
}
.product-grid-animated .product-card-item:nth-child(9) {
    transition-delay: 640ms;
}
.product-grid-animated .product-card-item:nth-child(10) {
    transition-delay: 720ms;
}
.product-grid-animated .product-card-item:nth-child(11) {
    transition-delay: 800ms;
}
.product-grid-animated .product-card-item:nth-child(12) {
    transition-delay: 880ms;
}
.product-grid-animated .product-card-item:nth-child(13) {
    transition-delay: 960ms;
}
.product-grid-animated .product-card-item:nth-child(14) {
    transition-delay: 1040ms;
}
.product-grid-animated .product-card-item:nth-child(15) {
    transition-delay: 1120ms;
}
.product-grid-animated .product-card-item:nth-child(16) {
    transition-delay: 1200ms;
}

/* For items beyond 16, use a reduced delay to prevent too long waits */
.product-grid-animated .product-card-item:nth-child(n + 17) {
    transition-delay: 1280ms;
}

/* ===================================================================
   RESPONSIVE ADJUSTMENTS
   ================================================================== */

@media (max-width: 768px) {
    :root {
        --scroll-animation-distance: 30px;
        --scroll-animation-duration: 0.6s;
        --scroll-animation-stagger-delay: 0.06s;
    }

    .product-grid-animated {
        --product-animation-distance: 30px;
        --product-stagger-delay: 0.06s;
    }

    /* Faster stagger on mobile */
    .product-grid-animated .product-card-item:nth-child(1) {
        transition-delay: 0ms;
    }
    .product-grid-animated .product-card-item:nth-child(2) {
        transition-delay: 60ms;
    }
    .product-grid-animated .product-card-item:nth-child(3) {
        transition-delay: 120ms;
    }
    .product-grid-animated .product-card-item:nth-child(4) {
        transition-delay: 180ms;
    }
    .product-grid-animated .product-card-item:nth-child(5) {
        transition-delay: 240ms;
    }
    .product-grid-animated .product-card-item:nth-child(6) {
        transition-delay: 300ms;
    }
    .product-grid-animated .product-card-item:nth-child(7) {
        transition-delay: 360ms;
    }
    .product-grid-animated .product-card-item:nth-child(8) {
        transition-delay: 420ms;
    }
    .product-grid-animated .product-card-item:nth-child(n + 9) {
        transition-delay: 480ms;
    }
}

@media (max-width: 480px) {
    :root {
        --scroll-animation-distance: 20px;
        --scroll-animation-duration: 0.5s;
        --scroll-animation-stagger-delay: 0.04s;
    }

    .product-grid-animated {
        --product-animation-distance: 20px;
    }

    /* Even faster stagger on small mobile */
    .product-grid-animated .product-card-item:nth-child(1) {
        transition-delay: 0ms;
    }
    .product-grid-animated .product-card-item:nth-child(2) {
        transition-delay: 40ms;
    }
    .product-grid-animated .product-card-item:nth-child(3) {
        transition-delay: 80ms;
    }
    .product-grid-animated .product-card-item:nth-child(4) {
        transition-delay: 120ms;
    }
    .product-grid-animated .product-card-item:nth-child(n + 5) {
        transition-delay: 160ms;
    }
}

/* ===================================================================
   REDUCED MOTION SUPPORT
   ================================================================== */

@media (prefers-reduced-motion: reduce) {
    .scroll-fade-trigger,
    .product-grid-animated .product-card-item {
        opacity: 1 !important;
        transform: none !important;
        transition: none !important;
        animation: none !important;
    }
}

/* ===================================================================
   PERFORMANCE OPTIMIZATIONS
   ================================================================== */

/* GPU acceleration for smooth animations */
.product-grid-animated .product-card-item {
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* Smooth scroll behavior for containers */
.product-grid {
    contain: layout style paint;
}

/* Optimize for animation performance */
@supports (will-change: transform) {
    .scroll-fade-trigger {
        will-change: opacity, transform;
    }

    .scroll-fade-trigger.animate {
        will-change: auto;
    }
}

/* ===================================================================
   ENHANCED VISUAL EFFECTS
   ================================================================== */

/* Hover enhancement for animated cards without shadows */
.product-grid-animated .product-card-item.animate:hover {
    transform: translateY(-2px);
    transition: transform 0.3s ease;
}

/* Smooth focus states for accessibility */
.product-grid-animated .product-card-item.animate:focus-within {
    outline: 2px solid #007bff;
    outline-offset: 2px;
}

/* ===================================================================
   UTILITY CLASSES
   ================================================================== */

/* Fast animations */
.scroll-fade-fast {
    --scroll-animation-duration: 0.4s;
}

/* Slow animations */
.scroll-fade-slow {
    --scroll-animation-duration: 1.2s;
}

/* Custom delays */
.scroll-fade-delay-1 {
    transition-delay: 0.1s;
}

.scroll-fade-delay-2 {
    transition-delay: 0.2s;
}

.scroll-fade-delay-3 {
    transition-delay: 0.3s;
}

.scroll-fade-delay-4 {
    transition-delay: 0.4s;
}

.scroll-fade-delay-5 {
    transition-delay: 0.5s;
}

.scroll-fade-delay-6 {
    transition-delay: 0.6s;
}

.scroll-fade-delay-7 {
    transition-delay: 0.7s;
}

.scroll-fade-delay-8 {
    transition-delay: 0.8s;
}

.scroll-fade-delay-9 {
    transition-delay: 0.9s;
}

.scroll-fade-delay-10 {
    transition-delay: 1s;
}

/* ===================================================================
   LOADING STATES
   ================================================================== */

.scroll-animations-loading .scroll-fade-trigger {
    opacity: 0;
    transform: none;
    transition: none;
}

.scroll-animations-loaded .scroll-fade-trigger {
    transition: all var(--scroll-animation-duration) var(--scroll-animation-easing);
}

/* ===================================================================
   DEBUG MODE (for development)
   ================================================================== */

.scroll-animations-debug .scroll-fade-trigger {
    border: 2px dashed rgba(255, 0, 0, 0.3) !important;
    position: relative;
}

.scroll-animations-debug .scroll-fade-trigger::before {
    content: 'SCROLL TRIGGER';
    position: absolute;
    top: -25px;
    left: 0;
    background: rgba(255, 0, 0, 0.8);
    color: white;
    padding: var(--space-mini) var(--space-sm);
    font-size: 10px;
    font-family: monospace;
    z-index: 9999;
    pointer-events: none;
}

/* ===================================================================
   PURE SLIDE ANIMATIONS (NO FADE)
   ================================================================== */

/* Base class for slide-only animations */
.scroll-slide-trigger {
    transition: transform var(--scroll-animation-duration) var(--scroll-animation-easing);
}

.scroll-slide-trigger.animate {
    transform: translateX(0) !important;
}

/* Slide from behind right (starts completely off-screen to the right) */
.scroll-slide-from-right {
    transform: translateX(100%);
}

/* Slide from behind left */
.scroll-slide-from-left {
    transform: translateX(-100%);
}

/* Slide from behind top */
.scroll-slide-from-top {
    transform: translateY(-100%);
}

/* Slide from behind bottom */
.scroll-slide-from-bottom {
    transform: translateY(100%);
}

/* For elements that should slide in from completely behind another element */
.scroll-slide-from-behind-right {
    transform: translateX(calc(100% + 20px));
    z-index: -1;
}

.scroll-slide-from-behind-right.animate {
    transform: translateX(0);
    z-index: 1;
}

.scroll-slide-from-behind-left {
    transform: translateX(calc(-100% - 20px));
    z-index: -1;
}

.scroll-slide-from-behind-left.animate {
    transform: translateX(0);
    z-index: 1;
}
