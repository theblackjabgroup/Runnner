{% comment %}
  Custom Button with Sliding Text Animation

  Usage:
  {% render 'custom-button-slide-text',
    button_text: 'Click Me',
    button_url: '/collection/all',
    button_size: 24,
    font_weight: 500,
    show_arrow: true,
    custom_class: 'my-custom-button'
  %}

  Parameters:
  - button_text: String - The text to display on the button
  - button_url: String - The URL the button should link to
  - button_size: Number - Font size in pixels (default: 24)
  - font_weight: Number - Font weight (default: 500)
  - show_arrow: Boolean - Whether to show the arrow icon (default: false)
  - custom_class: String - Additional CSS class for styling
{% endcomment %}

{%- assign button_text = button_text | default: 'Button' -%}
{%- assign button_url = button_url | default: '#' -%}
{%- assign button_size = button_size | default: 24 -%}
{%- assign font_weight = font_weight | default: 500 -%}
{%- assign show_arrow = show_arrow | default: false -%}
{%- assign custom_class = custom_class | default: '' -%}

<style>
  .custom-slide-button {
    position: relative;
    display: inline-block;
    padding: 12px 24px;
    border: {{ settings.buttons_border_thickness | default: 1 }}px solid var(--button_label, #000);
    color: var(--button_label, #000);
    background-color: var(--button, transparent);
    border-radius: {{ settings.buttons_radius | default: 0 }}px;
    overflow: hidden;
    transition: background-color 0.4s ease, color 0.4s ease, border-color 0.4s ease;
    text-decoration: none;
    cursor: pointer;
  }

  .custom-slide-button:hover,
  .custom-slide-button:focus {
    background-color: var(--hovered_button_label, #000);
    color: var(--hovered_button_text_color, #fff);
    border-color: var(--hovered_button_text_color, #fff);
    outline: none;
    text-decoration: none;
  }

  .custom-slide-button-text-container {
    position: relative;
    width: 100%;
    overflow: hidden;
  }

  .custom-slide-button-text {
    display: flex;
    align-items: center;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: transform 0.7s ease;
  }

  .custom-slide-button:hover .custom-slide-button-text,
  .custom-slide-button:focus .custom-slide-button-text {
    transform: translateX(-100%);
  }

  .custom-slide-button-text-hover {
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transform: translateX(100%);
    transition: transform 0.7s ease;
  }

  .custom-slide-button:hover .custom-slide-button-text-hover,
  .custom-slide-button:focus .custom-slide-button-text-hover {
    transform: translateX(0);
  }

  .custom-slide-button:not(:hover):not(:focus) .custom-slide-button-text,
  .custom-slide-button:not(:hover):not(:focus) .custom-slide-button-text-hover {
    transition: none;
  }

  .custom-slide-button-arrow {
    margin-left: 12px;
  }

  .custom-slide-button-arrow svg {
    width: 16px;
    height: 16px;
    transition: transform 0.3s ease;
  }

  @media screen and (max-width: 750px) {
    .custom-slide-button-text,
    .custom-slide-button-text-hover {
      font-size: 16px !important;
    }
  }
</style>

<a
  href="{{ button_url }}"
  class="custom-slide-button {{ custom_class }}"
  aria-label="{{ button_text | escape }}"
  role="button"
  tabindex="0"
>
  <div class="custom-slide-button-text-container">
    <div
      class="custom-slide-button-text"
      style="font-size: {{ button_size }}px; font-weight: {{ font_weight }}; font-style: var(--font-body-style); font-family: var(--font-body-family);"
    >
      {{ button_text | escape }}
      {% if show_arrow %}
        <span class="custom-slide-button-arrow" aria-hidden="true">
          <svg
            width="18"
            height="16"
            viewBox="4.5 1.5 8.5 13"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            stroke="currentColor"
          >
            <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
          </svg>
        </span>
      {% endif %}
    </div>
    <div
      class="custom-slide-button-text-hover"
      style="font-size: {{ button_size }}px; font-weight: {{ font_weight }}; font-style: var(--font-body-style); font-family: var(--font-body-family);"
    >
      {{ button_text | escape }}
      {% if show_arrow %}
        <span class="custom-slide-button-arrow" aria-hidden="true">
          <svg
            width="18"
            height="16"
            viewBox="4.5 1.5 8.5 13"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            stroke="currentColor"
          >
            <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
          </svg>
        </span>
      {% endif %}
    </div>
  </div>
</a>
