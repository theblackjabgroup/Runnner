{{ 'section-footer.css' | asset_url | stylesheet_tag }}
{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}



<style>
  :root {
  --cr-yellow-2: #d68c00;
  --cr-yellow-1: #c9c3ad;
}
 .email-input.error {
    border-color: red !important;
  }
  
  .message-container {
    padding: 10px;
    margin-bottom: 15px;
    text-align: center;
  }
  
  .success-message {
    color: green;
    font-weight: bold;
  }
</style>


<footer class="color-{{ section.settings.color_scheme }} bg-black text-white font-sans p-4"
  style="
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    margin-top: {{ section.settings.margin_top }}px;
    margin-bottom: {{ section.settings.margin_bottom }}px;
  "
  role="contentinfo"
  aria-label="Footer">

   {% for block in section.blocks %}
    {% case block.type %}
      {% when 'email_signup' %}
    <div class="email-signup-section {% if section.settings.color_scheme != blank %}color-{{ section.settings.color_scheme }}{% endif %}" {{ block.shopify_attributes }}>
  <form id="email-signup-form" class="email-signup-container" aria-labelledby="newsletter-heading">
    <h2 id="newsletter-heading" class="visually-hidden">{{ block.settings.button_text | default: 'Sign up for our newsletter' }}</h2>
    <input type="hidden" name="form_type" value="customer" />
    <input type="hidden" name="utf8" value="✓" />
    <input type="hidden" name="contact[tags]" value="newsletter" />
    
    <div id="message-container" class="message-container" style="display: none;" aria-live="polite" role="status"></div>
    
    <div id="form-fields-container" class="form-fields-container">
      <label for="email-input" class="visually-hidden">{{ block.settings.email_placeholder | default: 'EMAIL' }}</label>
      <input type="email" 
        id="email-input" 
        name="contact[email]" 
        class="email-input" 
        placeholder="{{ block.settings.email_placeholder | default: 'EMAIL' }}" 
        required
        autocomplete="email">
      <button type="submit" class="signup-button" aria-label="{{ block.settings.button_text | default: 'SIGN ME UP' }}">
        <span class="arrow-icon" aria-hidden="true">→</span>
        <span>{{ block.settings.button_text | default: 'SIGN ME UP' }}</span>
      </button>
    </div>
  </form>
</div>


  
      

{% when 'scroll_tracker' %}
<div
  style="margin-left:50px"
  class="bg-[var(--cr-yellow-2)] text-black px-10 py-6 mt-5 rounded-[5px] group hover:bg-transparent border-2 border-transparent hover:border-[var(--cr-yellow-2)] hover:text-[var(--cr-yellow-2)] transition-colors duration-300 w-[320px]"
  aria-live="polite"
  {{ block.shopify_attributes }}>

    <p class="text-[20px] font-semibold mt-[-13px] group-hover:text-[var(--cr-yellow-2)]" style="margin-left:6px">{{ block.settings.scroll_text | default: 'YOU HAVE SCROLLED' }}</p>
    
    <div class="flex items-baseline bg-[var(--cr-yellow-1)] px-6 py-0 mt-4 rounded-[5px] transition-colors duration-300 border-3 border-transparent group-hover:bg-transparent group-hover:border-[var(--cr-yellow-2)] w-[283px]" style="margin:10px 10px 0px -7px">
      <div class="flex w-full justify-between items-baseline">
        <span id="scrollValueFooter" class="text-[64px] font-bold leading-none group-hover:text-[var(--cr-yellow-2)] w-[160px]">0.185</span>
        <span class="text-[24px] font-semibold group-hover:text-[var(--cr-yellow-2)] w-[50px] ml-15">KM</span>
      </div>
    </div>
  </div>

  
{% when 'support' %}
  <div class="w-full flex justify-end pr-9" style="margin-top: -12%"> 
    <div class="mb-6 max-w-1/5 w-max" {{ block.shopify_attributes }}>
      <p class="uppercase font-bold text-[2.85rem] break-words text-left text-white">{{ block.settings.support_heading }}</p> 
      <p class="mt-1 text-[1.85rem] break-words text-left text-white">{{ block.settings.support_text }}</p> 
      <a href="mailto:{{ block.settings.email_address }}"
         class="relative mt-2 inline-block text-white text-[2.85rem] animated-underline break-words group"> 
        {{ block.settings.email_link_text }}
        <span class="arrow"></span> 
      </a>
    </div>
  </div>


      
{% when 'menu' %}
  <div class="flex w-full justify-end mt-6 text-gray-300 pr-[12%] space-x-12" {{ block.shopify_attributes }}>
    <div class="inline-block">
      <h4 class="text-[1.85rem] font-semibold mb-2" style="color: {{ section.settings.menu_item_color }};">
        {{ block.settings.menu_title }}
      </h4>
      <div class="flex flex-col space-y-2">
        {% for link in linklists[block.settings.menu_links].links %}
          <a 
            href="{{ link.url }}"  
            class="text-[1.85rem]" 
            style="color: {{ section.settings.menu_item_color }};"
          >
            {{- link.title -}}
          </a>
        {% endfor %}
      </div>
    </div>
  </div>





  
        {% when 'social_icons' %}
        <div class="footer-column" {{ block.shopify_attributes }}>
          <div class="social-icons" aria-labelledby="social-heading">
            {% if block.settings.social_title != blank %}
              <h4 id="social-heading">{{ block.settings.social_title }}</h4>
            {% endif %}
            {%- if settings.social_facebook_link != blank -%}
              <a
                href="{{ settings.social_facebook_link }}"
                class="social-icon"
                style="color: {{ section.settings.menu_item_color }};"
                aria-label="Facebook"
              >
                {{
                  'icon-facebook.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 30px; fill: '
                  | append: settings.social_icon_color
                  | remove: '_'
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_instagram_link != blank -%}
              <a
                href="{{ settings.social_instagram_link }}"
                class="social-icon"
                aria-label="Instagram"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-instagram.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 30px; fill: '
                  | append: settings.social_icon_color
                  | remove: '_'
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_youtube_link != blank -%}
              <a
                href="{{ settings.social_youtube_link }}"
                class="social-icon"
                aria-label="YouTube"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-youtube.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: '_'
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_tiktok_link != blank -%}
              <a
                href="{{ settings.social_tiktok_link }}"
                class="social-icon"
                aria-label="TikTok"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-tiktok.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: "'"
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_twitter_link != blank -%}
              <a
                href="{{ settings.social_twitter_link }}"
                class="social-icon"
                aria-label="Twitter"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-twitter.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: "'"
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_pinterest_link != blank -%}
              <a
                href="{{ settings.social_pinterest_link }}"
                class="social-icon"
                aria-label="Pinterest"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-pinterest.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: "'"
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_snapchat_link != blank -%}
              <a
                href="{{ settings.social_snapchat_link }}"
                class="social-icon"
                aria-label="Snapchat"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-snapchat.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: "'"
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_tumblr_link != blank -%}
              <a
                href="{{ settings.social_tumblr_link }}"
                class="social-icon"
                aria-label="Tumblr"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-tumblr.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: "'"
                }}
              </a>
            {%- endif -%}
            {%- if settings.social_vimeo_link != blank -%}
              <a
                href="{{ settings.social_vimeo_link }}"
                class="social-icon"
                aria-label="Vimeo"
                style="color: {{ section.settings.menu_item_color }};"
              >
                {{
                  'icon-vimeo.svg'
                  | inline_asset_content
                  | replace: '<svg', '<svg role="img" aria-hidden="true" style="height: 25px; fill: '
                  | append: settings.social_icon_color
                  | remove: "'"
                }}
              </a>
            {%- endif -%}
          </div>
        </div>
    {% endcase %}
  {% endfor %}
</footer>

{% style %}
  .color-{{ section.settings.color_scheme }} {
    color: {{ settings.colors[section.settings.color_scheme].text }};
  }

  .background-{{ section.settings.color_scheme }} {
    background-color: {{ settings.colors[section.settings.color_scheme].background }};
  }
  
  /* Accessibility styles */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    margin: -1px;
    padding: 0;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
  }
  
  /* Focus styles for keyboard navigation */
  a:focus,
  button:focus,
  input:focus {
    outline: 2px solid #4d90fe;
    outline-offset: 2px;
  }
{% endstyle %}

<script>
document.addEventListener('DOMContentLoaded', function() {
  
  const footerDistance = document.getElementById('scrollValueFooter');

  if (!footerDistance) {
    console.error('Could not find element with ID "scrollValueFooter"');
    return;
  }
  footerDistance.textContent = (0.000).toFixed(3);
  let lastScrollPosition = window.scrollY || document.documentElement.scrollTop;
  let totalScrollDistance = 0;
  let lastScrollTime = 0;
  const distanceDivisor = 100000;
  window.addEventListener('scroll', function() {
    const now = Date.now();
    if (now - lastScrollTime < 100) {
      return;
    }
    lastScrollTime = now;
    const currentScrollPosition = window.scrollY || document.documentElement.scrollTop;
    const scrollDifference = Math.abs(currentScrollPosition - lastScrollPosition);
    totalScrollDistance += scrollDifference;
    const distanceInKM = (totalScrollDistance / distanceDivisor).toFixed(3);
    footerDistance.textContent = distanceInKM;
    lastScrollPosition = currentScrollPosition;
  });
});

document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('email-signup-form');
  const emailInput = document.getElementById('email-input');
  const formFieldsContainer = document.getElementById('form-fields-container');
  
  // Use onclick on the submit button instead
  const submitButton = form.querySelector('button[type="submit"]');
  submitButton.onclick = function(e) {
    e.preventDefault();
    
    // Check if email is empty
    if (emailInput.value.trim() === '') {
      emailInput.classList.add('error');
      return false;
    }
    
    emailInput.classList.remove('error');
    
    // Replace the form fields with success message immediately
    formFieldsContainer.innerHTML = '<div class="success-message">Thank you for signing up!</div>';
    
    // Optional: still send the data to the server in the background
    const formData = new FormData(form);
    fetch('/contact', {
      method: 'POST',
      body: formData,
      headers: {
        'Accept': 'application/json'
      }
    }).catch(error => {
      console.error('Error:', error);
    });
    
    return false;
  };
  
  emailInput.addEventListener('input', function() {
    if (emailInput.value.trim() !== '') {
      emailInput.classList.remove('error');
    }
  });
});
</script>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "default": "scheme-1",
      "label": "Color Scheme"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top Padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom Padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top Margin",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom Margin",
      "default": 0
    },
    {
      "type": "color",
      "id": "menu_item_color",
      "label": "Menu Item Color",
      "default": "#FFFFFF"
    }
  ],
  "blocks": [
    {
      "type": "email_signup",
      "name": "Email Signup",
      "limit": 1,
      "settings": [
     {
      "type": "text",
      "id": "email_placeholder",
      "label": "Email Placeholder",
      "default": "EMAIL"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "SIGN ME UP"
    },
        {
          "type": "text",
          "id": "success_message",
          "label": "Success Message",
          "default": "Thank you for subscribing!"
        },
        {
          "type": "checkbox",
          "id": "show_form_again_after_success",
          "label": "Show form again after successful submission",
          "default": true
        }
      ]
    },
    {
      "type": "scroll_tracker",
      "name": "Scroll Tracker",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "scroll_text",
          "label": "Scroll Text",
          "default": "YOU HAVE SCROLLED"
        }
      ]
    },
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "link_list",
          "id": "menu_links",
          "label": "Menu",
          "default": "footer"
        }
      ]
    },
    {
      "type": "support",
      "name": "Support Section",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "support_heading",
          "label": "Support Heading",
          "default": "NEED SUPPORT?"
        },
        {
          "type": "textarea",
          "id": "support_text",
          "label": "Support Text",
          "default": "We're just an email away. Drop us a line and we'll get back to you within 48 hours for order related inquires."
        },
        {
          "type": "text",
          "id": "email_address",
          "label": "Email Address",
          "default": "support@bandit.com"
        },
        {
          "type": "text",
          "id": "email_link_text",
          "label": "Email Link Text",
          "default": "Open Email →"
        }
      ]
    },
    {
      "type": "social_icons",
      "name": "Social Icons",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "social_title",
          "label": "Social Media Title",
          "default": "Follow Us"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": " Footer",
      "category": "Footer",
      "blocks": [
        {
          "type": "email_signup"
        },
        {
          "type": "scroll_tracker"
        },
        {
          "type": "support"
        },
        {
          "type": "menu"
        },
        {
          "type": "social_icons"
        }
      ]
    }
  ]
}
{% endschema %} 
