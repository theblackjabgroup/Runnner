{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Main Menu"
    }
  ]
}
{% endschema %}

<header class="w-full border-b shadow-sm sticky top-1 z-50 bg-white">
  <div class="max-w-9/10 mx-auto px-4 py-3 flex items-center justify-between">
    <!-- Logo -->
    <div class="flex items-center space-x-5">
      {% if section.settings.logo != blank %}
        <a href="/">
          <img src="{{ section.settings.logo | image_url }}" alt="Logo" class="h-30 w-auto">
        </a>
      {% else %}
        <a href="/" class="text-xl font-bold">Logo</a>
      {% endif %}
    </div>
    <!-- Menu -->
    <div class="hidden md:block flex flex-row items-center space-x-4">
      {%- liquid
        if section.settings.menu != blank
          render 'header-dropdown-menu'
        endif
      %}
    </div>

    <!-- Actions -->
    <div class="flex items-center space-x-4">
      <!-- Search -->
      <form action="/search" method="get" class=" block">
        <input
          type="text"
          name="q"
          placeholder="Search"
          class="hidden lg:block px-3 py-1 border rounded-md focus:outline-none"
        >
      </form>
      <button class="block px-3 py-1 border rounded-md focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5a7 7 0 100 14 7 7 0 000-14zm0 2a5 5 0 110 10 5 5 0 010-10zM16.293 16.293l4.414-4.414m-4.414 4.414L12.586 12m3.707-3.707l4.414-4.414" />
        </svg>
      </button>

      <!-- Login -->
      <a href="/account/login" class="text-gray-700 hover:text-black">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A4 4 0 018 16h8a4 4 0 012.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      </a>

      <!-- Cart -->
      <a href="/cart" class="text-gray-700 hover:text-black relative">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.293 2.707a1 1 0 00.293 1.414l1.414 1.414A1 1 0 008 18h8a1 1 0 00.707-.293l1.414-1.414a1 1 0 00.293-1.414L17 13" />
        </svg>
        <span class="absolute -top-2 -right-2 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">
          {{ cart.item_count }}
        </span>
      </a>

      <div class="xl:hidden">
        <button id="menu-toggle" class="text-gray-700 focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>
